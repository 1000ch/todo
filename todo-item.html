<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="bower_components/core-icons/core-icons.html">
<link rel="import" href="bower_components/core-input/core-input.html">

<polymer-element name="todo-item" attributes="item index">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <div>
      <core-icon-button
          icon="{{item.done ? 'check' : 'check-box-outline-blank'}}"
          on-click="{{toggle}}"></core-icon-button>
      <input type="text" is="core-input" value="{{item.task}}">
      <core-icon-button icon="delete" on-click="{{delete}}"></core-icon-button>
    </div>
  </template>
  <script>
    Polymer('todo-item', {
      toggle: function (e, detail, sender) {
        this.item.done = !this.item.done;
      },
      delete: function (e, detail, sender) {
        this.fire('task-deleted');
      }
    });
  </script>
</polymer-element>