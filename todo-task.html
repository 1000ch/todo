<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="bower_components/core-icons/core-icons.html">
<link rel="import" href="bower_components/core-input/core-input.html">
<link rel="import" href="bower_components/client-uuid/client-uuid.html">

<polymer-element name="todo-task" attributes="item index uuid">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <client-uuid value="{{uuid}}"></client-uuid>
    <div>
      <core-icon-button
          icon="{{item.done ? 'check' : 'check-box-outline-blank'}}"
          on-click="{{toggle}}"></core-icon-button>
      <input type="text" is="core-input" value="{{item.task}}">
      <core-icon-button icon="delete" on-click="{{delete}}"></core-icon-button>
    </div>
  </template>
  <script>
    Polymer('todo-task', {
      toggle: function (e, detail, sender) {
        if (this.item.done) {
          this.fire('undone');
        } else {
          this.fire('done');
        }
      },
      delete: function (e, detail, sender) {
        this.fire('delete');
      }
    });
  </script>
</polymer-element>